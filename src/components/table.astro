---
// src/components/table.astro - VERSIÓN MULTIIDIOMA
import { getTranslations } from '../i18n/utils.js';

const currentLang = Astro.currentLocale || 'es';
const t = await getTranslations(currentLang);

// Datos de los distritos con traducciones
const distritosData = [
    { distrito: "Sed", poblacion: 723000 },
    { distrito: "Captan", poblacion: 892000 },
    { distrito: "Sonoj", poblacion: 861000 },
    { distrito: "Luchad", poblacion: 763000 },
    { distrito: "Teroj", poblacion: 722000 },
    { distrito: "Radianta", poblacion: 481000 },
    { distrito: "Naval", poblacion: 573000 },
    { distrito: "Eŭre", poblacion: 516000 },
    { distrito: "Ki", poblacion: 807000 },
    { distrito: "Kondado", poblacion: 590000 },
    { distrito: "Lundono", poblacion: 302000 },
    { distrito: "Estatico", poblacion: 252000 },
    { distrito: "Real", poblacion: 170000 },
    { distrito: "Jurakano", poblacion: 894000 },
    { distrito: "Nebula", poblacion: 913000 },
    { distrito: "Ŭ", poblacion: 761000 },
    { distrito: "Kuartio", poblacion: 526000 },
    { distrito: "Kohadran", poblacion: 182000 },
    { distrito: "Kanoa", poblacion: 51000 },
    { distrito: "Dolia", poblacion: 278000 },
    { distrito: "Leŭten", poblacion: 712000 },
    { distrito: "Ŝtormo", poblacion: 539000 },
    { distrito: "Nova Ki", poblacion: 544000 },
    { distrito: "Temburgo", poblacion: 485000 },
    { distrito: "Gedeon", poblacion: 72000 },
    { distrito: "San Ki", poblacion: 614000 },
    { distrito: "Ligilo", poblacion: 884000 },
    { distrito: "Anĝeloj", poblacion: 301000 },
    { distrito: "Do-Tou", poblacion: 2000 },
    { distrito: "La Digo", poblacion: 46000 }
];
---

<!-- Tabla de distritos -->
<table>
    <thead>
        <tr>
            <th>{t.distritos.table.district}</th>
            <th>{t.distritos.table.population}</th>
            <th>{t.distritos.table.description}</th>
        </tr>
    </thead>
    <tbody id="tabla-distritos">
        {distritosData.map(distrito => (
            <tr class="distrito-row" data-distrito={distrito.distrito} data-poblacion={distrito.poblacion.toString()}>
                <td>{distrito.distrito}</td>
                <td>{distrito.poblacion.toLocaleString()}</td>
                <td>{t.distritos.districts[distrito.distrito.toLowerCase().replace(/\s+/g, '').replace(/ŭ/g, 'u').replace(/ŝ/g, 's').replace(/ĝ/g, 'g')] || t.distritos.districts.default}</td>
            </tr>
        ))}
    </tbody>
</table>